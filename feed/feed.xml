<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
	<title>Dmitrii&#39;s tech blog</title>
	<subtitle>Software engineering and beyond</subtitle>
	
	<link href="https://dushkin.tech/feed/feed.xml" rel="self"/>
	<link href="https://dushkin.tech"/>
	<updated>2023-03-26T00:00:00-00:00</updated>
	<id>https://dushkin.tech</id>
	<author>
		<name>Dmitrii Dushkin</name>
		<email></email>
	</author>
	
	<entry>
		<title>How to assign a variable to switch statement result</title>
		<link href="https://dushkin.tech/posts/js_assign_variable_in_switch/"/>
		<updated>2022-09-01T00:00:00-00:00</updated>
		<id>https://dushkin.tech/posts/js_assign_variable_in_switch/</id>
		<content type="html">
		  &lt;p&gt;It’s a helpful trick that allows writing compact yet highly type-proof code to deal with enums both in TypeScript and Flow.&lt;/p&gt;
&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br&gt;  &lt;span class=&quot;token keyword&quot;&gt;switch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;step&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br&gt;    &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; Step&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;One&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;br&gt;      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;one&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;    &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; Step&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Two&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;br&gt;      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;two&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;    &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; Step&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Three&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;&lt;br&gt;      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;three&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I use in React &lt;code&gt;render&lt;/code&gt; as well.&lt;/p&gt;

			
		</content>
	</entry>
	
	<entry>
		<title>HP U28 for work and gaming review</title>
		<link href="https://dushkin.tech/posts/HP_U28_for_work_and_gaming_review/"/>
		<updated>2022-10-10T00:00:00-00:00</updated>
		<id>https://dushkin.tech/posts/HP_U28_for_work_and_gaming_review/</id>
		<content type="html">
		  &lt;p&gt;So after trying some monitors I decided to buy HP U28. I had some surprises after, but overall it is a good monitor for its price (500 pounds in July 2021).&lt;br&gt;
My must have features for monitor are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;4K for text clarity&lt;/strong&gt;. I read a lot of texts and write a lot of code, so it is crucial for me the see text perfectly. Also only 4K monitors are recognised by MacOS as &amp;quot;retina&amp;quot; and you can scale MacOS UI without any blurring.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;USB-C with power delivery&lt;/strong&gt; at least 65W and built-in USB hub. It allows to use a single cable for charging, video output, connecting keyboard and mouse.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;HDR&lt;/strong&gt;. This technology introduces luminance along with pixel colour. Also monitor should support wider colour range like DCI-P3. It is not crucial, but a nice addition for a low extra price for entry level HDR.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I have 3 devices to plug into this monitor: my work MacBook 16, gaming laptop and PS5.&lt;/p&gt;
&lt;h2 id=&quot;for-work&quot;&gt;For work &lt;a class=&quot;direct-link&quot; href=&quot;#for-work&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;For working on MacBook, it is perfect&lt;/strong&gt;. I give here 5 stars. It provides good text clarity, but not the best possible, probably because 28&amp;quot; is a little too big for 4K. I had previously old Dell 27&amp;quot; 4K, and it was perfect. Also, HP u28 gives HDR out of the box and 10-bit colours on each channel. It has just entry level HDR 400, which means maximum brightness limited with 400 nits. For comparison iPhone 12 has maximum brightness 1200 nits.&lt;/p&gt;
&lt;h2 id=&quot;for-gaming-on-pc&quot;&gt;For gaming on PC &lt;a class=&quot;direct-link&quot; href=&quot;#for-gaming-on-pc&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;For gaming on PC, I give it 3.5 stars&lt;/strong&gt;. I have a laptop with GeForce 2070, and it has DisplayPort 1.4 over USB-C (Thunderbolt) and HDMI 2.0. It turned out (well, it was in specs, actually) monitor have only DisplayPort 1.2 (!), which do not support HDR officially. I had a lot of trouble getting it right.&lt;/p&gt;
&lt;p&gt;There are two options for me in this setup. &lt;strong&gt;First is to use USB-C to USB-C connection&lt;/strong&gt;, which allows leave keyboard and mouse plugged into monitor, but there are many troubles with HDR. For some reason, HDR can be turned on in Windows 10. I do not know why because there is no such thing in DP 1.2 specs. But anyway, when I am turning on HDR, setting 10-bit RGB, everything seems fine until I&#39;ll start some game, and it immediately resets to 6-bit (!) with awful colour banding. Colour banding is when you see clear colour steps in gradients, like back in 1995. I can switch from RBG (native) to YCbCr 4:4:4 (it is a colour compression method), but I get limited colour, and I see colour banding as well, but not so bad as if it was on 6 bit. So after killing a lot of time on it, I decided to turn off HDR in Windows and enjoy 8 bit RGB with a Photo colour profile. Sometimes I select YCbCr 4:4:4 10 bit + HDR because it is a bit better in darker games, but as I said this options gives noticeable color banding.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://dushkin.tech/img/for_posts/02/color_banding.jpeg&quot; alt=&quot;Color banding&quot;&gt;&lt;br&gt;
&lt;em&gt;Color banding on the left&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Another option for gaming PC&lt;/strong&gt; is to hook up HDMI. It works well on HDR 8-bit RGB, but I have to manually reconnect the mouse and keyboard from monitor to laptop. I hate wires on a desk and all this manual switching, so it is not for me. Maybe I&#39;ll make up something for this later.&lt;/p&gt;
&lt;p&gt;By the way, there is &lt;strong&gt;no official G-SYNC support (only AMD FreeSync)&lt;/strong&gt;. Although Nvidia Control Panel allows to turn on G-SYNC, it just not working. I see awful screen tearing in games, so I turned on VSYNC in games (it&#39;s like a software solution to screen tearing problem, but not so efficient). There is such an option for DisplayPort connection, but HDMI lucks it.&lt;/p&gt;
&lt;h2 id=&quot;for-gaming-on-ps5&quot;&gt;For gaming on PS5 &lt;a class=&quot;direct-link&quot; href=&quot;#for-gaming-on-ps5&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;And the last one is PS5, and the monitor gets 5 stars here. HDR looks amazing, true 4K. I cannot complain here. Also, I bought a 5wt soundbar (costs around 20 quids) and connected it to the monitor. This setup gives decent sound for PS 5 games.&lt;/p&gt;
&lt;h2 id=&quot;dimming-zones&quot;&gt;Dimming zones &lt;a class=&quot;direct-link&quot; href=&quot;#dimming-zones&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;I&#39;ve noticed there are actually dimming zones, but they are quite simple and consists of top and bottom array lightning. Here is the video:&lt;/p&gt;
&lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/nVxh1Hwyiks&quot; title=&quot;YouTube video player&quot; frameborder=&quot;0&quot; allow=&quot;accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;
&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion &lt;a class=&quot;direct-link&quot; href=&quot;#conclusion&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;I guess this is just the best option for its price for me. Better solutions in terms of PC gaming starts from 800 quids (if you need 4K), that is not I&#39;m ready to spend now. I&#39;ll wait until OLED or mini-LED monitors will become affordable for better HDR and HDMI 2.1 for better PS5 experience.&lt;/p&gt;

			
		</content>
	</entry>
	
	<entry>
		<title>My productivity tools</title>
		<link href="https://dushkin.tech/posts/my_productivity_tools/"/>
		<updated>2022-10-30T00:00:00-00:00</updated>
		<id>https://dushkin.tech/posts/my_productivity_tools/</id>
		<content type="html">
		  &lt;p&gt;I like to make my everyday work and life-related tasks faster: taking notes, remembering passwords, arranging windows and maintain things to do.&lt;/p&gt;
&lt;p&gt;I want to share software and a bit of hardware gems I found during 20+ years of sharpening the &amp;quot;Second brain&amp;quot; blade. For me, it&#39;s also an opportunity to reflect.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Most of the time, I use Apple devices and very little — Windows, so keep this in mind, and I&#39;ll try to highlight if there is a Windows version of the software.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;tldr&quot;&gt;TLDR &lt;a class=&quot;direct-link&quot; href=&quot;#tldr&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Remember things in short-term:
&lt;ul&gt;
&lt;li&gt;Apple Reminder&lt;/li&gt;
&lt;li&gt;Apple Notes&lt;/li&gt;
&lt;li&gt;Google Calendar&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Personal Knowledge Management (long-term memory):
&lt;ul&gt;
&lt;li&gt;Notion&lt;/li&gt;
&lt;li&gt;Obsidian&lt;/li&gt;
&lt;li&gt;LucidChart&lt;/li&gt;
&lt;li&gt;Yandex.Disk&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;System control:
&lt;ul&gt;
&lt;li&gt;Raycast&lt;/li&gt;
&lt;li&gt;Lunar&lt;/li&gt;
&lt;li&gt;ITerm 2&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Other
&lt;ul&gt;
&lt;li&gt;Keyboards: NuPhy Air 60 and Dygma Raise&lt;/li&gt;
&lt;li&gt;Timeout&lt;/li&gt;
&lt;li&gt;Grammarly&lt;/li&gt;
&lt;li&gt;MacPass&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;remember-things-in-short-term&quot;&gt;Remember things in short-term &lt;a class=&quot;direct-link&quot; href=&quot;#remember-things-in-short-term&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;There are myriads of everyday things which I should remember for a long: scheduled appointments, reminders to pay bills, watch a movie, order something, etc. To free up a bit of memory I use these tools.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Apple Reminder&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Using reminders as is. I often use Siri to create a reminder like &amp;quot;Hey Siri, remind me in 5 hours to scan a document&amp;quot;. A cool benefit of the highly-coupled Apple eco-system.&lt;/li&gt;
&lt;li&gt;Also using it to keep lists of:
&lt;ul&gt;
&lt;li&gt;Books to read&lt;/li&gt;
&lt;li&gt;Movies to watch&lt;/li&gt;
&lt;li&gt;Games to play&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Platforms: macOS, iPadOS, iOS.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;https://dushkin.tech/img/for_posts/01/reminder.png&quot; alt=&quot;...&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Apple Notes&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Mostly using it for Quick Notes (TM). Again thanks to good integration with iOS and macOS, it&#39;s quite a convenient way to quickly write down a thought or save a link with comments. For instance, when exploring Unreal Engine 5, I often clicked on &amp;quot;Share&amp;quot; in the iOS YouTube app, shared the video via Notes, and added a small comment on what this video was about.&lt;/li&gt;
&lt;li&gt;Sometimes, use it to draw some diagrams. Good enough for a rough sketch but hardly for sharing the result with someone else. Or I suck at drawing :)&lt;/li&gt;
&lt;li&gt;I tried to use it as a main note-taking app, but it lacks many must-have features. Number one is interlinking between notes. On the good side, Apple started investing in it and recently, Apple added must-have things like tags or tables.&lt;/li&gt;
&lt;li&gt;Platforms: macOS, iPadOS, iOS.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;https://dushkin.tech/img/for_posts/01/notes.png&quot; alt=&quot;...&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://bear.app/&quot;&gt;Bear&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Honorable mention. I&#39;m not using it anymore because Apple Notes has become good enough for the same tasks. But still, it has one of the nicest UI and UX (user experience) I ever saw both desktop and mobile. It&#39;s still worth trying if Apple Notes already cover your needs, but you&#39;re looking for a bit more features like:&lt;/li&gt;
&lt;li&gt;Natural markdown format for notes,&lt;/li&gt;
&lt;li&gt;Notes interlinking (more on that later, but that&#39;s potentially a huge one!),&lt;/li&gt;
&lt;li&gt;Themes!&lt;/li&gt;
&lt;li&gt;Platforms: macOS, iPadOS, iOS.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;https://dushkin.tech/img/for_posts/01/bear.png&quot; alt=&quot;...&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Google Calendar added to Apple Calendar&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Besides covering obvious needs like adding doctor appointments, birthdays, etc. I made a shared calendar with my relatives and added events like joint trips.&lt;/li&gt;
&lt;li&gt;Tried to use it as a weekly schedule (set exact wake-up time, breakfast, work, gym, etc.), but it never lifted off. Maybe it&#39;s just a little too much &amp;quot;productivity&amp;quot; for me :), but if YouTube &amp;quot;productivity&amp;quot; experts are not lying to make more content, this kind of &amp;quot;full-scheduled life&amp;quot; works for some people.&lt;/li&gt;
&lt;li&gt;Platforms: macOS, iPadOS, iOS, but Google Calendar itself can be integrated almost to every mail/calendar app.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;personal-knowledge-management&quot;&gt;Personal Knowledge Management &lt;a class=&quot;direct-link&quot; href=&quot;#personal-knowledge-management&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Although Apple Notes and Reminders are also used for preserving some knowledge, they do not offer any suitable (for me) experience for:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Keeping long-lasting information,&lt;/li&gt;
&lt;li&gt;Research and learning,&lt;/li&gt;
&lt;li&gt;Writing long formats like articles or posts,&lt;/li&gt;
&lt;li&gt;Exploring and finding connections between existing information,&lt;/li&gt;
&lt;li&gt;Sharing information.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;And that&#39;s fine. Apple&#39;s apps are good at quick information capture (in terms of performance and smooth UX for common tasks), but not for things I mentioned above. I guess it&#39;s almost impossible to have everything in a single app. 🤷‍♂️&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://www.notion.so/&quot;&gt;Notion&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;It&#39;s my primary app for capturing personal life-related info, i.e. tips for passing IELTS, physical exercises, medical information, learning materials, etc.&lt;/li&gt;
&lt;li&gt;It has quite a simple way to share notes, which I&#39;m using for sharing information with relatives.&lt;/li&gt;
&lt;li&gt;It has a cool UI around managing its databases and presents it in several ways (tables, kanban, etc.).
&lt;ul&gt;
&lt;li&gt;For instance was using it for gathering structured info about routers or notebooks before buying ones. Price, performance, average temperature, etc., are all important factors affecting buying decisions.&lt;/li&gt;
&lt;li&gt;But truth be told, it could be more useful as advertised. At least I didn&#39;t find any other good scenarios for personal use. I tried keeping it in the database todo-list, but managing it took more time than giving a profit.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Pricing model is quite affordable. Free-tier also works (recently, they expanded it so you can have an unlimited number of notes).&lt;/li&gt;
&lt;li&gt;Platforms: all.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;https://dushkin.tech/img/for_posts/01/notion.png&quot; alt=&quot;notion&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Obsidian&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;It&#39;s a new tool in my belt. They recently released a 1.0.0. It has MacOS, iOS (both iPhone and iPad versions) and Windows versions.&lt;/li&gt;
&lt;li&gt;I&#39;m exploring ways of using it for research work and writing articles based on research. I guess it&#39;s just my habit from science days when I was gathering a lot of sources before doing anything and verifying that my work makes sense :)&lt;/li&gt;
&lt;li&gt;There are several features which make Obisidian a much more suitable tool for research and long-format writing compared to Notion:
&lt;ul&gt;
&lt;li&gt;The major one is graph-like knowledge structuring support. Yes, you can put your notes in folders like Notion or Apple Notes, but that&#39;s not the main one.
&lt;ul&gt;
&lt;li&gt;Evangelists of graph-based solutions (sometimes called &amp;quot;Zattelcasten&amp;quot;) say that the natural way of thinking for our brain is a network of connections between pieces of information, not a hierarchical structure which Notion or Notes offer.&lt;/li&gt;
&lt;li&gt;Practically speaking, this feature is more about habit than technology. You can quickly add links to other notes and see information about back-links (notes which refer to current note). And that&#39;s it! So you can think of it as a swift and responsive personal Wikipedia.&lt;/li&gt;
&lt;li&gt;The habit is creating links to essential entities in the text while you are typing or reading. That&#39;s easy when you get used to it. You need to type `` and start typing the term you&#39;re going to mention and see if there is an already existing note. If not, that&#39;s not a problem; leave it as a link. Obsidian will create an empty note for you, so next time will see at least that some pages refer to the corresponding note.&lt;/li&gt;
&lt;li&gt;People also say that graph-representation of notes also helps to indent if hidden relationships between data which can be valuable.&lt;/li&gt;
&lt;li&gt;Anyway. I have tried the tool briefly to say how it all works in practice. Will see. I like the concept so far.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;The next one is that it&#39;s entirely local! So I can not worry about your data integrity to some degree. Also, it does search and linking very fast. And you get a natural offline mode (&lt;em&gt;cough-Notion-cough&lt;/em&gt;) :)&lt;/li&gt;
&lt;li&gt;It&#39;s based on a markdown format, making migration or co-using notes in other apps (like Logseq) easy.&lt;/li&gt;
&lt;li&gt;There are several helpful community plugins like better UX for creating tables, managing tasks, making UX more like an outline app, etc.&lt;/li&gt;
&lt;li&gt;Themes, lots of them! Notion and Apple Notes lack this feature.&lt;/li&gt;
&lt;li&gt;Obisidian give the option to create &lt;strong&gt;a daily note&lt;/strong&gt; and open it at the beginning of each day. At first, I didn&#39;t get the value of it, but now I realize that this default clean place for notes offers a smooth opportunity for any work/research-related notes. No need to spend brain energy to select a proper place for a new note. Just start typing a fresh idea, and later maybe you&#39;ll move it to the right place. People have a limited number of good choices made per day, and this feature allows them to save one every day.&lt;/li&gt;
&lt;li&gt;Notes can have custom properties, and some plugins allow to query these properties and generate nice tables, kanban tables, etc. Again I didn&#39;t find this helpful feature in Notion. Still, I like the idea of how it is naturally integrated into notes compared to Notion, where database entry is a different sort of data not related to the rest of the notes.&lt;/li&gt;
&lt;li&gt;A cherry on top is a unique way of organizing multiple opened notes in the app — stacked view. It feels like real pieces of paper stacked on each other, and you slide them left and right to switch to the most useful now. Fantastic concept and I hope it will find more adoption in the future in other apps like Visual Studio Code or Web Browsers.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;The only issue is a pricing model.
&lt;ul&gt;
&lt;li&gt;8$ per month (96$ per year) is a bit too much for built-in cloud syncing, which is useful if you use the app on multiple devices. I&#39;m using iCloud to store notes, which works great across Apple devices, but iCloud is not working in Windows.&lt;/li&gt;
&lt;li&gt;Also, another 50$ per year for a commercial license with no additional features compared to a personal (free) license is a bit of a shame.&lt;/li&gt;
&lt;li&gt;I really liked the tool so decided to spend next year with Obsidian and instead buying a new Call Of Duty I decided to spend this money to Obsidian Cloud Sync 😁&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Platforms: all.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;https://dushkin.tech/img/for_posts/01/obisidian.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Lucidchart&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;I used this app only for work since my employer provides a license for it. It&#39;s one of the best of its kind.&lt;/li&gt;
&lt;li&gt;The power of diagrams in work life is a topic for another post. As a software engineer, I&#39;ve been making diagrams since university, and it&#39;s an amazing process helping creativity, problem-solving and documenting.&lt;/li&gt;
&lt;li&gt;Previously, I used open-sourced &lt;strong&gt;&lt;a href=&quot;http://draw.io/&quot;&gt;Draw.io&lt;/a&gt;&lt;/strong&gt;, which is also great, but due to its open-source nature, it could be more advanced and polished and has a sharing capability.&lt;/li&gt;
&lt;li&gt;Platforms: all.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;https://dushkin.tech/img/for_posts/01/lucidchart.png&quot; alt=&quot;...&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Cloud Storage&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;One of the oldest categories of apps I use. Currently, I use &lt;a href=&quot;https://disk.yandex.com/&quot;&gt;Yandex.Disk&lt;/a&gt; because of stable MacOS app work and reliable back-end. I worked for Yandex for seven years and knew the people behind the product. I can trust them :)&lt;/li&gt;
&lt;li&gt;Platforms: all.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;system-control&quot;&gt;System control &lt;a class=&quot;direct-link&quot; href=&quot;#system-control&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Raycast&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;A recent gem I found. It&#39;s an extensible MacOS Spotlight (the one you see on &amp;quot;Cmd + Space&amp;quot;).&lt;/li&gt;
&lt;li&gt;It&#39;s quite the same as more mature &lt;a href=&quot;https://www.alfredapp.com/&quot;&gt;Alfred&lt;/a&gt;, but we with much more in free-pack and a more modern (IMHO) look.&lt;/li&gt;
&lt;li&gt;Previously, I used two different apps for the same functions: Spectacle (prev. Rectangle) for windows management and Clipy for clipboard history.&lt;/li&gt;
&lt;li&gt;I use it for:
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Clipboard history&lt;/strong&gt;. That&#39;s the most frequent feature I use. I also stored images in history with previews and allowed them to paste without formatting.&lt;/li&gt;
&lt;li&gt;Windows Management: move a window to the left-right half, move windows to another display, etc. Second the most frequent feature.&lt;/li&gt;
&lt;li&gt;Opening floating (over everything) notes during the meeting to keep track of the agenda&lt;/li&gt;
&lt;li&gt;Quick calculations.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Platforms: macOS.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;https://dushkin.tech/img/for_posts/01/raycast.png&quot; alt=&quot;...&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://lunar.fyi/&quot;&gt;Lunar&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Allows controlling brightness both on built-in and external monitors.&lt;/li&gt;
&lt;li&gt;Previously, I used 2 or 3 similar apps, some of them are open-source, but no app managed to work correctly with all the external monitors I use.&lt;/li&gt;
&lt;li&gt;Platforms: macOS.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;https://dushkin.tech/img/for_posts/01/lunar.png&quot; alt=&quot;...&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ITerm 2&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Replacement for MacOS built-in terminal.&lt;/li&gt;
&lt;li&gt;Has tons of features and integrations.&lt;/li&gt;
&lt;li&gt;My current work only assumes a little work in a terminal, but I remember what a great difference it made when I started to use one at my previous job.&lt;/li&gt;
&lt;li&gt;Platforms: macOS.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;other&quot;&gt;Other &lt;a class=&quot;direct-link&quot; href=&quot;#other&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Good keyboard and typing skills&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Typing speed is not a help in programming, but the more senior engineer, the more time he can spend on communication, writing a post in a corporate network, documentation, etc.&lt;/li&gt;
&lt;li&gt;To make these tasks faster and more pleasant, I invested some time in typing speed skills and a keyboard with a comfortable typing experience.&lt;/li&gt;
&lt;li&gt;Keyboard
&lt;ul&gt;
&lt;li&gt;Home: &lt;strong&gt;NuPhy Air 60&lt;/strong&gt;. It&#39;s 60% (no Numpad and Fn row), mechanical, low-profile And wireless keyboard. I love its compact size and folio, allowing me to put my iPad mini on a stand. I read and write many things on iPad (including this post), and this keyboard is way better than Apple&#39;s offerings for the same tasks in terms of balance between portability and typing experience. I use linear lubed switches with some mods.
&lt;ul&gt;
&lt;li&gt;&lt;img src=&quot;https://dushkin.tech/img/for_posts/01/nuphy.png&quot; alt=&quot;...&quot;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Work: &lt;strong&gt;Dygma Raise&lt;/strong&gt;. It&#39;s a 60% split ergonomic mechanical keyboard with optional tenting capability for a more ergonomic wrist position. I love it for the comfort of typing. One small con is that the sound of typing could be better due to its construction. I use linear lubed switches + some keyboard mods.
&lt;ul&gt;
&lt;li&gt;&lt;img src=&quot;https://dushkin.tech/img/for_posts/01/dygma.png&quot; alt=&quot;...&quot;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://apps.apple.com/us/app/time-out-break-reminders/id402592703?mt=12&quot;&gt;Timeout&lt;/a&gt;&lt;/strong&gt; app from macOS App Store&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Small nice app that reminds me to take a break. I have used it for at least six years.&lt;/li&gt;
&lt;li&gt;Platforms: macOS.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://app.grammarly.com/&quot;&gt;Grammarly&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;It&#39;s a nice service checking grammar, spelling, punctuation and most importantly word selection and sentence structure.&lt;/li&gt;
&lt;li&gt;Platforms: all.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://macpassapp.org/&quot;&gt;MacPass&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;I use it to &lt;strong&gt;store credentials&lt;/strong&gt; to services. I love it for open-source and using local files as a database.&lt;/li&gt;
&lt;li&gt;Database files are encrypted and stored in personal cloud storage.&lt;/li&gt;
&lt;li&gt;There are a lot of more popular alternatives, but almost all of them are online services and engaging browser extension installation. Credentials are one of the most important pieces of a secure online presence, and I cannot afford to store them in 3rd party services, which can (theoretically) vanish the next day and take all my credentials with them.&lt;/li&gt;
&lt;li&gt;Alternatives using the same database format are available on all platforms.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;https://dushkin.tech/img/for_posts/01/macpass.png&quot; alt=&quot;...&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion &lt;a class=&quot;direct-link&quot; href=&quot;#conclusion&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;I was developing this set of apps and techniques for a long time, and the journey continues. It seems like a lot, but in reality, almost every app has some predecessors (which I also used) and extends previous experience, so it&#39;s pretty easy to learn a new app.&lt;br&gt;
I know the &amp;quot;productivity&amp;quot; apps field is indefinite, and I&#39;m happy to see you sharing your favourite apps and workflows.&lt;/p&gt;

			
		</content>
	</entry>
	
	<entry>
		<title>Principles of engineering excellence</title>
		<link href="https://dushkin.tech/posts/principles_of_engineering_excellence/"/>
		<updated>2022-11-06T00:00:00-00:00</updated>
		<id>https://dushkin.tech/posts/principles_of_engineering_excellence/</id>
		<content type="html">
		  &lt;p&gt;For the past 12 years of creating software for money, I started to sense the presence of &lt;strong&gt;generic principles of engineering excellence&lt;/strong&gt;. This sense includes not only code decisions but also concepts around software development: collaboration, management, product evolvement and others. Violating these rules feels like &amp;quot;bad smells&amp;quot; mentioned in [[&amp;quot;Refactoring&amp;quot; by Martin Fowler]] but more generically.&lt;/p&gt;
&lt;p&gt;I plan to update this note from time to time because the &amp;quot;sense&amp;quot; mentioned above is blurry, and so is the interpretation.&lt;/p&gt;
&lt;h2 id=&quot;core-principles&quot;&gt;Core principles &lt;a class=&quot;direct-link&quot; href=&quot;#core-principles&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Engineering excellence is a process of &lt;strong&gt;harnessing codebase chaos&lt;/strong&gt; by reducing an &lt;strong&gt;entropy&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Code should have a structure &lt;strong&gt;simple for a fast high-level understanding&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Logic is understandable from code and has no surprises, i.e. no hidden dependencies and unexpected side-effects&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;why&quot;&gt;Why &lt;a class=&quot;direct-link&quot; href=&quot;#why&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Eventually, to &lt;strong&gt;make a better product&lt;/strong&gt;!&lt;/li&gt;
&lt;li&gt;Keep a &lt;strong&gt;good developer experience&lt;/strong&gt; tightly connected to a result.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;how&quot;&gt;How &lt;a class=&quot;direct-link&quot; href=&quot;#how&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Reducing amount of code&lt;/strong&gt; by introducing re-usable modules
&lt;ul&gt;
&lt;li&gt;Make reusable code the best quality possible: it&#39;s fast, covers edge cases, and is fully specified by documentation and tests.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Reusable code is s a foundation of a technical side of a product. This code includes libraries and frameworks.&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;End-to-end (E2E) and unit-tests&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Knowledge sharing&lt;/strong&gt;: documentation (inc. good doc in E2E tests), internal talks, etc.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;trade-offs&quot;&gt;Trade-offs &lt;a class=&quot;direct-link&quot; href=&quot;#trade-offs&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Engineering excellence is &lt;strong&gt;not an ultimate goal&lt;/strong&gt; (see &amp;quot;Why&amp;quot;). These aspects of product development should be taken into consideration each time before investing time in engineering excellence:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Product maturity&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;E.g. there is no sense in investing in own components library to build an MVP&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Team maturity&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;E.g. you&#39;ll likely create a good custom ORM if you delegate this task to a junior developer, at least in a reasonable amount of time.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Business reasons&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;E.g. writing end-to-end tests for features which likely to be dropped.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;

			
		</content>
	</entry>
	
	<entry>
		<title>When You’re overwhelmed, simplify</title>
		<link href="https://dushkin.tech/posts/when_you_overwhelmed_simplify/"/>
		<updated>2022-11-10T00:00:00-00:00</updated>
		<id>https://dushkin.tech/posts/when_you_overwhelmed_simplify/</id>
		<content type="html">
		  &lt;p&gt;&lt;em&gt;by Nataliia Dushkina (&lt;a href=&quot;https://github.com/indra-uolles&quot;&gt;https://github.com/indra-uolles&lt;/a&gt;)&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;When I saw this phrase, I felt that somebody had crept into my head and was stealing thoughts out of it :D Seriously, it’s one of my main work principles that I try to follow.&lt;/p&gt;
&lt;p&gt;Let me give an example of how to use this principle when you work as a front-end developer.q&lt;/p&gt;
&lt;p&gt;Not long ago, I was involved in large legacy project update tasks. Its current front-end framework version was 2, and we were going to promise that we’ll update it to 13 quickly enough.&lt;/p&gt;
&lt;p&gt;There was a problem, though. Several people tried to do a proper update (like it’s advised in official docs) to the next version, but they encountered different weird bugs and got stuck. To understand these errors, one would have to be a real open-source ninja. The Update task was starting to seem impossible.&lt;/p&gt;
&lt;p&gt;As a former scientist, I know that when there is a &lt;em&gt;BIG, UNKNOWN SMTH&lt;/em&gt;, you have to find a small piece you can do and try to understand this by chewing off that little piece first. So I asked our team lead to give me a couple of days to test a minor jump update to version 5. He wasn’t happy about my suggestion, but since no one had better recommendations, he allowed me to do it.&lt;/p&gt;
&lt;p&gt;The first thing I did was remove auth code from backend. I commented out some things and hardcoded others, so the backend would always think I’m a particular user who is logged in. Then I created a new project from a template with framework version 5 and started to restore a little feature by dragging little pieces of code from the old front-end.&lt;/p&gt;
&lt;p&gt;Everybody kept telling me that it was ineffective and would take too much time to update the whole project this way. I kept saying it was just a little investigation which I’ll be ready to drop as soon as somebody found a better approach. After a couple of days, another developer joined me, though he was still sceptical about all these “pieces dragging”.&lt;/p&gt;
&lt;p&gt;Guess what? After another couple of days doing this, he suddenly understood how this legacy app differs from a typical app created with such framework. Now he was able to jump update to version 5 all the codebase. He spent several days doing that and succeeded.&lt;/p&gt;
&lt;p&gt;In other words, my piece of advice &lt;strong&gt;is if you see something big you don’t know how to tackle, think about what little investigation you could do, even if deadlines are harsh.&lt;/strong&gt;&lt;/p&gt;

			
		</content>
	</entry>
	
	<entry>
		<title>Task planning algorithm in TypeScript: real-life problem solved with a graph theory</title>
		<link href="https://dushkin.tech/posts/task_planning_algorithm/"/>
		<updated>2022-11-15T00:00:00-00:00</updated>
		<id>https://dushkin.tech/posts/task_planning_algorithm/</id>
		<content type="html">
		  &lt;p&gt;In this article, I’ll present the algorithm which helps to answer the main question of all project planning efforts:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;When will it be done?&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;A more formal representation of this problem sounds like: “Having some tasks which might depend on each other and some folks which can do those tasks when a milestone can be reached?”&lt;/p&gt;
&lt;p&gt;Weekly sprint planning meeting in essence&lt;/p&gt;
&lt;h1 id=&quot;a-little-backstory&quot;&gt;A Little Backstory &lt;a class=&quot;direct-link&quot; href=&quot;#a-little-backstory&quot;&gt;#&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;In 2019-2021 I work as a tech lead. I was responsible for 3 different projects with a team of 11 developers, 2 managers, 2 designers, and several departments to cooperate with.&lt;/p&gt;
&lt;p&gt;For task tracking, we’re using our internal tool &lt;a href=&quot;https://yandex.ru/tracker/&quot;&gt;Yandex Tracker&lt;/a&gt; which is mostly like Jira. But it has no tools that’ll help to find the answer for an eternal question: “When?”. That’s why from time to time we manually sync tasks with &lt;strong&gt;Omniplan&lt;/strong&gt;. Turned out that it’s the tool that solves almost all project planning problems and moreover it has an &lt;strong&gt;auto-planning feature&lt;/strong&gt; so all situations when one assignee has workload over 100% are resolved automatically.&lt;/p&gt;
&lt;p&gt;Still, it has some drawbacks:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Slow and unreliable project sync between team mates based on a local copy syncing&lt;/li&gt;
&lt;li&gt;MacOS only&lt;/li&gt;
&lt;li&gt;Quite hard to sync it with our issue tracker&lt;/li&gt;
&lt;li&gt;Pricey: $200 and $400 for Pro edition&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;So I’ve decided to try to make my own Omniplan version with blackjack and hookers that would be:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Web-based&lt;/li&gt;
&lt;li&gt;Simple syncing with our tracker&lt;/li&gt;
&lt;li&gt;With real-time collaboration&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The most exciting part was to make &lt;strong&gt;a scheduling engine&lt;/strong&gt;. I didn’t understand why only Omniplan has such an essential feature. Now I do.&lt;/p&gt;
&lt;p&gt;So this article is about scheduling.&lt;/p&gt;
&lt;h1 id=&quot;developing-a-scheduling-engine&quot;&gt;Developing a scheduling engine &lt;a class=&quot;direct-link&quot; href=&quot;#developing-a-scheduling-engine&quot;&gt;#&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;First I’ve done some research. I’ve googled for solving scheduling tasks in general and found a lot of about &lt;a href=&quot;https://en.wikipedia.org/wiki/Gantt_chart&quot;&gt;Gantt&lt;/a&gt;, &lt;a href=&quot;https://en.wikipedia.org/wiki/Program_evaluation_and_review_technique&quot;&gt;PERT&lt;/a&gt;, but haven’t found any practical algorithms.&lt;/p&gt;
&lt;p&gt;Then I looked for open-source libraries and found only one: &lt;a href=&quot;https://github.com/bryntum/chronograph&quot;&gt;Bryntum Chronograph&lt;/a&gt;. It seems like something I was looking for all the time. They even have &lt;a href=&quot;https://github.com/bryntum/scheduler-performance&quot;&gt;benchmarks&lt;/a&gt;. But, well, talking honestly I didn’t understand &lt;a href=&quot;https://github.com/bryntum/chronograph/blob/master/src/chrono/Graph.ts&quot;&gt;any of its code&lt;/a&gt; and almost complete lack of documentation didn’t help either. I thought maybe, what if I could write it from scratch with less code.&lt;/p&gt;
&lt;p&gt;So, as usual, I’ve tried to draw the problem.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://dushkin.tech/img/for_posts/task_planning/1.png&quot; alt=&quot;Timeline of tasks before scheduling&quot;&gt;&lt;br&gt;
&lt;em&gt;Timeline of tasks before scheduling&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;While drawing it I’ve probably got the most important insight: tasks can be represented as a directed graph and edges are not only the explicit dependencies but also &lt;em&gt;implicit dependencies by the same assignee&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;The following algorithm should lead to such tasks arrangement:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://dushkin.tech/img/for_posts/task_planning/2.png&quot; alt=&quot;Timeline of tasks after scheduling&quot;&gt;&lt;br&gt;
&lt;em&gt;Timeline of tasks after scheduling&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Let’s consider what a task is:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://dushkin.tech/img/for_posts/task_planning/3.png&quot; alt=&quot;Task anatomy&quot;&gt;&lt;br&gt;
&lt;em&gt;Task anatomy&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;There are some not so obvious properties of a task:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Duration&lt;/strong&gt;. The task is being done only during &lt;em&gt;business&lt;/em&gt; days and the number of &lt;em&gt;business&lt;/em&gt; days is an &lt;em&gt;estimation&lt;/em&gt; of a task. So in this example the task starts on 2 March, has an estimation of 6 days, so it will end on 9 March (&lt;em&gt;not 7 March&lt;/em&gt;), because 7 and 8 March are holidays.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Position&lt;/strong&gt;. In this model, we assume that tasks with lower positions (same as a higher priority) should be done earlier than a task with higher positions (or lower priority).&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Progress&lt;/strong&gt;. It is a portion of a task that can be represented in percents but in fact, it is a number of days that were spent on a task. For example, if a task is estimated up to 4 days and, then progress is 75%, that 1 day left to task completion.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;So TypeScript type is as follows (&lt;em&gt;ID is just an alias for string&lt;/em&gt;):&lt;/p&gt;
&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Task&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br&gt;  id&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;ID&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;  title&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;  start&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Date&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;  end&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Date&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;  duration&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;&lt;br&gt;  &lt;span class=&quot;token comment&quot;&gt;/**&lt;br&gt;   * Approximation of priority&lt;br&gt;   */&lt;/span&gt;&lt;br&gt;  position&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;  progress&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;  resourceId&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;ID&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;  &lt;span class=&quot;token comment&quot;&gt;/**&lt;br&gt;   * Current task blocked by these tasks (depends on)&lt;br&gt;   */&lt;/span&gt;&lt;br&gt;  blockedBy&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;ID&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&quot;the-algorithm&quot;&gt;The algorithm &lt;a class=&quot;direct-link&quot; href=&quot;#the-algorithm&quot;&gt;#&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;In essence, the algorithm should change start and end dates of the tasks in the following way:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Tasks should start today if it is possible&lt;/li&gt;
&lt;li&gt;It should be impossible to start a task today if it has other tasks as prerequisites that are unfinished. In that case, a task should start right after the last prerequisite’s end date.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Pretty simple, huh? 🙈&lt;/p&gt;
&lt;p&gt;The main steps of the algorithm are:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;Build a graph from tasks.&lt;/strong&gt; Make edges taking into account explicit dependencies and implicit dependencies by the same assignee.&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/**&lt;br&gt; * Graph respects explicit dependencies&lt;br&gt; * and implicit by resources (via positions)&lt;br&gt; */&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; makeGraphFromTasks &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tasks&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Task&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Graph &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br&gt;  &lt;span class=&quot;token comment&quot;&gt;// task and blockedBy&lt;/span&gt;&lt;br&gt;  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; graph&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Graph &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; resourcesTasks &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Map&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;ID&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Task&lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;&lt;br&gt;  &lt;span class=&quot;token comment&quot;&gt;// Create graphs&lt;/span&gt;&lt;br&gt;  &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; t &lt;span class=&quot;token keyword&quot;&gt;of&lt;/span&gt; tasks&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br&gt;    &lt;span class=&quot;token comment&quot;&gt;// resource and its tasks&lt;/span&gt;&lt;br&gt;    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; tasksOfResource &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; resourcesTasks&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;t&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;resourceId&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;??&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;    tasksOfResource&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;t&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;&lt;br&gt;    resourcesTasks&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;t&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;resourceId&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; tasksOfResource&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;&lt;br&gt;    graph&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;t&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;t&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;blockedBy &lt;span class=&quot;token operator&quot;&gt;??&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;br&gt;  &lt;span class=&quot;token comment&quot;&gt;// Now add deps&lt;/span&gt;&lt;br&gt;  &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; tasksOfResource &lt;span class=&quot;token keyword&quot;&gt;of&lt;/span&gt; resourcesTasks&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br&gt;    &lt;span class=&quot;token comment&quot;&gt;// first sort by position so links of tasks starts with higher position&lt;/span&gt;&lt;br&gt;    &lt;span class=&quot;token comment&quot;&gt;// then topological sort to reduce cyclic deps&lt;/span&gt;&lt;br&gt;    tasksOfResource&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;sort&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;position &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;position&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;    &lt;span class=&quot;token comment&quot;&gt;// is toposort needed?&lt;/span&gt;&lt;br&gt;    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; sortedTasks &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;toposort&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;graph&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; tasksOfResource&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;&lt;br&gt;    &lt;span class=&quot;token comment&quot;&gt;// add to graph such edges so current node has prev as dependency (blocked by prev)&lt;/span&gt;&lt;br&gt;    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; prevTask&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Task &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; task &lt;span class=&quot;token keyword&quot;&gt;of&lt;/span&gt; sortedTasks&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br&gt;      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br&gt;        prevTask &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;br&gt;        prevTask&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;id &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; task&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;id &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;br&gt;        &lt;span class=&quot;token comment&quot;&gt;// has no incoming edge as well (otherwise it will be cyclic dep)&lt;/span&gt;&lt;br&gt;        &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;graph&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;prevTask&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;?.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;has&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;task&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br&gt;      &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br&gt;        graph&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;task&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;?.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;prevTask&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br&gt;      prevTask &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; task&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br&gt;  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;br&gt;  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; graph&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;2.Remove circular dependencies.&lt;/strong&gt; If cycles are present throw an error because that means that some task A has as prerequisite task B and task B has as prerequisite task A, which is a classic problem of &lt;a href=&quot;https://en.wikipedia.org/wiki/Circular_dependency&quot;&gt;circular dependency&lt;/a&gt; and the problem should be resolved manually. Tasks A and B do not necessarily have an explicit dependency on each other, there are might some other tasks between them.&lt;/p&gt;
&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;/**&lt;br&gt; * Main source of cyclic dependencies is previous step where graph is created&lt;br&gt; * Often top-level task has same owner as children tasks&lt;br&gt; * Since we create edge in graph also by same owner that&#39;s why there is cyclic deps&lt;br&gt; *&lt;br&gt; * IDEA: mitigate the issue by starting DFS walk from top-level (source) tasks!&lt;br&gt; */&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; removeCyclicDependencies &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br&gt;  graph&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Graph&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br&gt;  tasks&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Task&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br&gt;  &lt;span class=&quot;token comment&quot;&gt;// Track visited to avoid computing path for already computed nodes&lt;/span&gt;&lt;br&gt;  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; visited &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; cyclicDepsRemovedCount &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;&lt;br&gt;  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;dfsAndRemove&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;rootTaskId&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;ID&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br&gt;    &lt;span class=&quot;token comment&quot;&gt;// [current task ID, set of previously visited tasks]&lt;/span&gt;&lt;br&gt;    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; stack&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;ID&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Set&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;ID&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;rootTaskId&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;&lt;br&gt;    &lt;span class=&quot;token keyword&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;stack&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br&gt;      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; nextValue &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; stack&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;pop&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;      &lt;span class=&quot;token function&quot;&gt;nullthrows&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;nextValue&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;taskId&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; prevSet&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; nextValue&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;&lt;br&gt;      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; blockedBy &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; graph&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;taskId&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;??&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;&lt;br&gt;      visited&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;taskId&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;&lt;br&gt;      &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; blockedById &lt;span class=&quot;token keyword&quot;&gt;of&lt;/span&gt; blockedBy&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br&gt;        &lt;span class=&quot;token comment&quot;&gt;// cycle detected!&lt;/span&gt;&lt;br&gt;        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;prevSet&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;has&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;blockedById&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br&gt;          &lt;span class=&quot;token comment&quot;&gt;// remove that edge&lt;/span&gt;&lt;br&gt;          blockedBy&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;delete&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;blockedById&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;          cyclicDepsRemovedCount&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;          &lt;span class=&quot;token keyword&quot;&gt;continue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;br&gt;        &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; newPrevSet &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;prevSet&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;        newPrevSet&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;blockedById&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;        stack&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;blockedById&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; newPrevSet&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br&gt;    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br&gt;  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;&lt;br&gt;  &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; task &lt;span class=&quot;token keyword&quot;&gt;of&lt;/span&gt; tasks&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br&gt;    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;visited&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;has&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;task&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br&gt;      &lt;span class=&quot;token keyword&quot;&gt;continue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;br&gt;    &lt;span class=&quot;token function&quot;&gt;dfsAndRemove&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;task&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;br&gt;  &lt;span class=&quot;token builtin&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;debug&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Cyclic deps removed:&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; cyclicDepsRemovedCount&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;3. Visit every node (task) and update a start and end dates.&lt;/strong&gt; Visiting should be performed starting from the task with higher priority&lt;/p&gt;
&lt;p&gt;If a task is a source (it is not a prerequisite for any other task and task’s assignee has no other task to do before this task) or a task is disconnected node (it has no dependencies and it is not prerequisite for any other tasks) then we start task today.&lt;/p&gt;
&lt;p&gt;Otherwise, a task has prerequisites and its start date should be set to the latest end date of its prerequisites tasks.&lt;/p&gt;
&lt;p&gt;Also, it is important to correctly &lt;strong&gt;update an end date while setting a start date of a task&lt;/strong&gt;. We should take into account actual business days and the progress of a task.&lt;/p&gt;
&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; scheduleTasks &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br&gt;  inputTasks&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Task&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br&gt;  today&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Date &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getNowDate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Task&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br&gt;  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; dayBeforeToday &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;subtractDays&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;today&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; tasks&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Task&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; inputTasks&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;t&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;t &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; tasksById&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; TasksById &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fromEntries&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tasks&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;t&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;t&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; t&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; graph &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;makeGraphFromTasks&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;tasks&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; cyclesToFullyUpdateDates &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;&lt;br&gt;  &lt;span class=&quot;token comment&quot;&gt;// 1. Remove cyclic dependencies&lt;/span&gt;&lt;br&gt;  &lt;span class=&quot;token function&quot;&gt;removeCyclicDependencies&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;graph&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; tasks&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;&lt;br&gt;  &lt;span class=&quot;token comment&quot;&gt;// 2. Initial update of all tasks start and ends days taking into account business days&lt;/span&gt;&lt;br&gt;  &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; task &lt;span class=&quot;token keyword&quot;&gt;of&lt;/span&gt; tasks&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br&gt;    &lt;span class=&quot;token function&quot;&gt;updateTaskDatesByStart&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;task&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; today&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;br&gt;  &lt;span class=&quot;token comment&quot;&gt;// Repeat until dates remains unchanged, max graph.size times.&lt;/span&gt;&lt;br&gt;  &lt;span class=&quot;token comment&quot;&gt;// Similar to optimization in Bellman-Ford algorithm&lt;/span&gt;&lt;br&gt;  &lt;span class=&quot;token comment&quot;&gt;// @see https://en.wikipedia.org/wiki/Bellman–Ford_algorithm#Improvements&lt;/span&gt;&lt;br&gt;  &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; tasks&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; i&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br&gt;    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; isAnyTaskTimelineChanged &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;&lt;br&gt;    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;taskId&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;of&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;dfs&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;graph&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br&gt;      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; task &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; tasksById&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;taskId&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;      &lt;span class=&quot;token comment&quot;&gt;// if blockedBy task not in initial data set&lt;/span&gt;&lt;br&gt;      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;task &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br&gt;        &lt;span class=&quot;token keyword&quot;&gt;continue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br&gt;      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; blockedByTasks &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;graph&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;task&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;??&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br&gt;        &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;blockedById&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; tasksById&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;blockedById&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;br&gt;        &lt;span class=&quot;token comment&quot;&gt;// do not take into account tasks not in graph&lt;/span&gt;&lt;br&gt;        &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Boolean&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; blockedByEndDates &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; blockedByTasks&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;t&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; t&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;end&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;      &lt;span class=&quot;token comment&quot;&gt;// add dayBeforeToday by default, so task without blockedBy starts on today&lt;/span&gt;&lt;br&gt;      blockedByEndDates&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;dayBeforeToday&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;&lt;br&gt;      &lt;span class=&quot;token comment&quot;&gt;// Start task on the next day after previous (blockedBy) tasks ends&lt;/span&gt;&lt;br&gt;      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; maxBlockedByEndDate &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;addDays&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;maxDateTime&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;blockedByEndDates&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; isTaskTimelineUpdated &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;updateTaskDatesByStart&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br&gt;        task&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;br&gt;        maxBlockedByEndDate&lt;br&gt;      &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;isTaskTimelineUpdated&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br&gt;        isAnyTaskTimelineChanged &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br&gt;    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;br&gt;    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;isAnyTaskTimelineChanged &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br&gt;      &lt;span class=&quot;token keyword&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br&gt;    cyclesToFullyUpdateDates&lt;span class=&quot;token operator&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;&lt;br&gt;    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;isAnyTaskTimelineChanged &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; i &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; tasks&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;br&gt;      &lt;span class=&quot;token builtin&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br&gt;        &lt;span class=&quot;token string&quot;&gt;&#39;It\&#39;s not enought &quot;tasks.length&quot; interations to fully schedule all tasks!&#39;&lt;/span&gt;&lt;br&gt;      &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br&gt;  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;br&gt;&lt;br&gt;  &lt;span class=&quot;token builtin&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;debug&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;br&gt;    &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;Cycles to fully update dates &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;cyclesToFullyUpdateDates&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;tasks&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;br&gt;  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;&lt;br&gt;  &lt;span class=&quot;token comment&quot;&gt;// for better representation&lt;/span&gt;&lt;br&gt;  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;toposort&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;graph&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; tasks&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&quot;what-can-be-improved&quot;&gt;What can be improved &lt;a class=&quot;direct-link&quot; href=&quot;#what-can-be-improved&quot;&gt;#&lt;/a&gt;&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;Probably the most important feature which leads to a more complex solution is introducing &lt;strong&gt;a desirable start date&lt;/strong&gt; of a task. I didn’t research it yet, but if someday it will grow to a standalone web-service I think it should be done. Now, this feature can be mitigated by setting proper priorities of tasks.&lt;/li&gt;
&lt;li&gt;For the enterprise-grade solution, it is important to take into account vacations and public holidays. I think &lt;strong&gt;updateStartDate&lt;/strong&gt; function can be quite easily updated to support this functionality.&lt;/li&gt;
&lt;li&gt;For my case having a &lt;strong&gt;day&lt;/strong&gt; as a time quant was okay, but I believe for some people &lt;strong&gt;hour&lt;/strong&gt;-based planning might be important. I think implementing an hour-based quant can also introduce some complications to code.&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&quot;conclusion&quot;&gt;Conclusion &lt;a class=&quot;direct-link&quot; href=&quot;#conclusion&quot;&gt;#&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;The code from the article you can find &lt;a href=&quot;https://github.com/DimitryDushkin/project-tasks-scheduling-engine&quot;&gt;here&lt;/a&gt;. You can grab and use it as an &lt;a href=&quot;https://www.npmjs.com/package/project-tasks-scheduling-engine&quot;&gt;NPM package&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I’m wondering if a presented solution has some flaws. If you spotted some please contact me here or on &lt;a href=&quot;https://github.com/DimitryDushkin/project-tasks-scheduling-engine/issues&quot;&gt;issues section in Github&lt;/a&gt;.&lt;/p&gt;

			
		</content>
	</entry>
	
	<entry>
		<title>Logseq task completion tracker plugin</title>
		<link href="https://dushkin.tech/posts/logseq_tasks_plugin/"/>
		<updated>2023-01-21T00:00:00-00:00</updated>
		<id>https://dushkin.tech/posts/logseq_tasks_plugin/</id>
		<content type="html">
		  &lt;p&gt;One tool that I&#39;ve found helpful in managing my workload is a &lt;strong&gt;task list&lt;/strong&gt;. However, manually writing down what I&#39;ve accomplished and what still needs to be done each week can be time-consuming and tedious.&lt;/p&gt;
&lt;p&gt;Recently, I discovered &lt;strong&gt;&lt;a href=&quot;https://logseq.com/&quot;&gt;Logseq&lt;/a&gt;&lt;/strong&gt;, a powerful tool for keeping track of tasks, notes, and more. As I began to explore its features, I realized that I could take my task management to the next level by automating the process of report generation.&lt;/p&gt;
&lt;p&gt;With this in mind, I set out to create a Logseq plugin that would automate the report generation of tasks done for a given period.&lt;/p&gt;
&lt;p&gt;This plugin adds &lt;code&gt;completed:: &amp;lt;today&amp;gt;&lt;/code&gt; property to task upon checking it. Also it adds &lt;strong&gt;slash command&lt;/strong&gt; with a query &lt;strong&gt;to get tasks done last week&lt;/strong&gt; : &lt;code&gt;Completed tasks for the past week&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Github — &lt;a href=&quot;https://github.com/DimitryDushkin/logseq-plugin-task-check-date&quot;&gt;https://github.com/DimitryDushkin/logseq-plugin-task-check-date&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;The plugin is now available in the Logseq Marketplace. Look for &amp;quot;&lt;strong&gt;Task completion&lt;/strong&gt;&amp;quot;.&lt;/li&gt;
&lt;/ul&gt;

			
		</content>
	</entry>
	
	<entry>
		<title>Creating browser extension with ChatGPT as a main development driver (spoiler: it&#39;s a mess :))</title>
		<link href="https://dushkin.tech/posts/gpt_driven_browser_extension_experiment/"/>
		<updated>2023-03-26T00:00:00-00:00</updated>
		<id>https://dushkin.tech/posts/gpt_driven_browser_extension_experiment/</id>
		<content type="html">
		  &lt;p&gt;I decided to join a wave and write a simple browser extension relying on ChatGPT help. The extension uses GPT to summarise the article on the current page.&lt;br&gt;
At first, everything looked surprisingly smooth. GPT gave a complete file structure and contents for it. Wow!😲&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://dushkin.tech/img/for_posts/gpt-toolbelt/gpt-response-0.png&quot; alt=&quot;GPT response on initial request&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;strike-one---old-api&quot;&gt;Strike one - Old API &lt;a class=&quot;direct-link&quot; href=&quot;#strike-one---old-api&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;It was not working, though, since it was replaced with comments article&#39;s content extraction and API calls. But It&#39;s okay.&lt;br&gt;
After asking to use a specific library for extraction (Readability.js) and a particular OpenAI API for summarisation, it produced, at first sight, quite worthy code. With one minor issue -- it was not working. 🤷‍♂️ I asked how to debug an extension and started debugging.&lt;/p&gt;
&lt;p&gt;The first issue was that GPT suggested using old (inexistent) OpenAI API. I googled the current one and modified the code.&lt;/p&gt;
&lt;h2 id=&quot;strike-two---%22forgot%22-about-permissions-to-not-used-chrome-api&quot;&gt;Strike two - &amp;quot;forgot&amp;quot; about permissions to not used Chrome API &lt;a class=&quot;direct-link&quot; href=&quot;#strike-two---%22forgot%22-about-permissions-to-not-used-chrome-api&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Secondly, it used &lt;code&gt;chrome.local.storage&lt;/code&gt; but forgot to set permissions for it in manifest.json. I showed GPT an error, and GPT apologised and answered with the correct instructions.&lt;/p&gt;
&lt;p&gt;The funny thing is that storage is not used anyhow in the app! 🥲&lt;br&gt;
I asked GPT, &amp;quot;why do you need storage anyway?&amp;quot;.&lt;br&gt;
GPT:&lt;br&gt;
&lt;img src=&quot;https://dushkin.tech/img/for_posts/gpt-toolbelt/gpt-response-1.jpg&quot; alt=&quot;GPT response on storage question&quot;&gt;&lt;/p&gt;
&lt;p&gt;Finally, we are at the stage of making the correct API request without errors in JS!&lt;/p&gt;
&lt;h2 id=&quot;strike-three---incorrect-api-request-params&quot;&gt;Strike three - incorrect API request params &lt;a class=&quot;direct-link&quot; href=&quot;#strike-three---incorrect-api-request-params&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;But it turned out it wasn&#39;t initially correctly calling API. I inspected the API response and found that it returned empty &lt;code&gt;choices[0].text and choices[0].finish_reason === &amp;quot;length&amp;quot;&lt;/code&gt;&lt;br&gt;
&lt;img src=&quot;https://dushkin.tech/img/for_posts/gpt-toolbelt/gpt-response-2.jpg&quot; alt=&quot;GPT response on API question&quot;&gt;&lt;/p&gt;
&lt;p&gt;Okay, it so turned out max_tokens shouldn&#39;t be 0. Who would have thought...&lt;/p&gt;
&lt;h2 id=&quot;forth-miss---mess-after-multiple-rewrites&quot;&gt;Forth miss - mess after multiple rewrites &lt;a class=&quot;direct-link&quot; href=&quot;#forth-miss---mess-after-multiple-rewrites&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Let&#39;s try again. It was not working. A problem in &lt;code&gt;background.js&lt;/code&gt;, it cannot read the id from the tab. Telling the error again and got a fixed version.&lt;br&gt;
At last, behold the successfully functioning extension!&lt;br&gt;
&lt;img src=&quot;https://dushkin.tech/img/for_posts/gpt-toolbelt/gpt-toolbelt-screenshot.jpeg&quot; alt=&quot;Screenshot of working browser extension summarising article&quot;&gt;&lt;/p&gt;
&lt;p&gt;The code can be improved by the way. For instance, great articles can easily exceed the input of the used model (varies for different models). It&#39;s 1500 words for most models. And around 7000 for a few more expensive ones.&lt;/p&gt;
&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion &lt;a class=&quot;direct-link&quot; href=&quot;#conclusion&quot;&gt;#&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;It&#39;s really impressive if you know what you are doing! It helped me to skip the boring steps of exploring Chrome Extension API (although I&#39;m a bit familiar with it) and concentrate on exciting part -- working with GPT API.&lt;/p&gt;
&lt;p&gt;But it produced buggy code. It looks like during a single response, it&#39;s not taking into account a beginning of a reply. Meaning that it produced valid &lt;code&gt;manifest.json&lt;/code&gt; at first but while it was writing &lt;code&gt;background.js&lt;/code&gt; and started using Storage API it &amp;quot;forgot&amp;quot; that permissions for it wasn&#39;t included in &lt;code&gt;manifest.json&lt;/code&gt; in the first place.&lt;/p&gt;
&lt;p&gt;Is it a fundamental flaw of LLM since it&#39;s essentially an &amp;quot;autocomplete&amp;quot; or it&#39;s a limitation of the current utilisation method? Will see :)&lt;/p&gt;
&lt;p&gt;Extension&#39;s source code - &lt;a href=&quot;https://github.com/DimitryDushkin/gpt-toolbelt&quot;&gt;https://github.com/DimitryDushkin/gpt-toolbelt&lt;/a&gt;&lt;/p&gt;

			
		</content>
	</entry>
</feed>
